doctype html
html(lang="en")
  head
    - var pagetitle = "Intl. Search Result"
    - var author = "arieare"
    include ./includes/head.jade
  body
    //- navbar start
    - var dpt_route_city = 'Jakarta – Seoul'
    - var dpt_date = 'Sat, 20 Feb 2016'
    - var rtn_route_city = 'Seoul – Jakarta'
    - var rtn_date = 'Sun, 21 Feb 2016'
    .navbar-fixed
      nav
        .nav-wrapper
          span.brand-logo.center
            span.flight-route= dpt_route_city
            span.flight-date= dpt_date
          ul.left
            li
              a.back-button(href="index 2.html" style="font-size:2em;") &#x2190;
    //- navbar end
    //- tab bar start
    #tab-content-container.col.s12
      #tab-nav-container(style="z-index:100;")
        ul.row.tab-nav-wrapper
          .active-indicator
          li.tab.col.s6.center-align
            a(href="#go-to-dpt-column" style="padding: 2em 1em;")
              span#bullet-number-1.bullet-number 1
              | &ensp;Departure
          li.tab.col.s6.center-align
            a(href="#go-to-rtn-column" style="padding: 2em 1em;")
              span#bullet-number-2.bullet-number 2
              | &ensp;Return
      #view-port-container
        #dpt-column
          form#only-one.dpt-column(action="" data-accordion-group)
            span#dpt-route.hide= dpt_route_city
            span#dpt-flight-date.hide= dpt_date
            //- search result

            .col.s12(style="background-color: #dadada;font-size: 0.8em;color: #8f8f8f;margin-left: -6px;margin-right: -6px;margin-top: -0.7em;padding: 0.5em 8px 0.3em;letter-spacing: 0.04em;margin-bottom: 0.3em;")
              span 4 outbound flights found, sorted by round-trip price.
            include ./includes/search-item-dpt.jade
            //- search result
        #rtn-column
          form#only-one.rtn-column(action="" data-accordion-group)
            span#rtn-route.hide= rtn_route_city
            span#rtn-flight-date.hide= rtn_date
            //- search result
            .col.s12(style="background-color: #0d80ce;font-size: 0.8em;color: #ffffff;margin-left: -6px;margin-right: -6px;margin-top: -0.7em;padding: 0.5em 8px 0.3em;letter-spacing: 0.04em;margin-bottom: 0.5em;")
              span 2 return flights found, sorted by price
            include ./includes/search-item-rtn.jade
            //- search result
        
    .row 
      .fixed-action-btn.click-to-toggle.horizontal(style="bottom: 56px; right: 8px;")
        a.btn-floating.grey.center-align(style="font-size:2em;line-height:33px;")
          strong ⌗
        ul(style="right: 24px;top: 15%;")
          li
            a.btn-floating.grey(style="width:auto;padding:0 0.5em;border-radius:0;margin-left:0.1em;line-height:32px;height:auto;border-radius: 8px 0 0 8px;transition: .15s") Sort
            a.btn-floating.grey(style="width:auto;padding:0 0.5em;border-radius:0;margin-left:0.1em;line-height:32px;height:auto;transition: .15s") Filter
            a.btn-floating.grey(style="width:auto;padding:0 0.5em;border-radius:0;margin-left:0.1em;line-height:32px;height:auto;border-radius:0 8px 8px 0;transition: .15s") Change Date
    .row.price-update.valign-wrapper(style="z-index:100;")
      .col.s7
        span.col.s12
          a.flight-detail-modal-trigger.modal-trigger(href="#flight-detail-modal" style="padding: 1em 0em; font-size:0.8em;")
            span(style="color:#434343;") Round-trip Price • 
            span Summary
        span.col.s12(style="margin-top: -0.3em;margin-bottom: 0;font-size:1.3em;") Rp 
          strong#totalprice.currency.odometer 0
      .col.s5
        button#book.right(disabled="true") Book Now
 
  include ./includes/modal-flight-summary.jade 
  include ./includes/modal-smart-combo.jade
 
//- currency script
script.
  $(".currency").autoNumeric('init',{
    aSep: ',',
    aDec: '.', 
    aSign: 'Rp ',
    mDec: '0'
  });
//- accordion script
script.
  $(document).ready(function() {
    $('#only-one [data-accordion]').accordion();

    $('#multiple [data-accordion]').accordion({
      singleOpen: false
    });

    $('#single[data-accordion]').accordion({
      transitionEasing: 'cubic-bezier(0.455, 0.030, 0.515, 0.955)',
      transitionSpeed: 200
    });
  });
//- unselect radio script
script.
  var allRadios = document.getElementsByName('dpt');
    var booRadio;
    for(var x = 0; x < allRadios.length; x++){
      allRadios[x].onclick = function() {
        if(booRadio == this){
          this.checked = false;
          booRadio = null;
          $( this ).parent().removeClass("dpt-selected");
          //style
          $( this ).parent().css({"border":"1px solid #dadada", "box-shadow": "0 1px 3px 0 rgba(0, 0, 0, 0.10), 0 2px 4px 0 rgba(0, 0, 0, 0.02)", "background-color":"#ffffff"});

        }else{
          console.log($(this).val());
          //insert formula here to subtract from kolom sebelah
          booRadio = this;
        }

        dptPrice = $('input[name=dpt]:checked').val();
        
        //- totalPrice = (totalPrice - Number(dptPrice))*2; //sesuai jumlah passengers
        //- $("#totalprice").html(totalPrice);
        //- $("#totalpricesummary").html(totalPrice);
        //- $("#bullet-number-1").html("1");
        //- $("#bullet-number-1").css("background-color", "rgba(255,255,255,.8)");
      };
    }